<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Crop model definitions — crop_model_definitions • BioCro</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Crop model definitions — crop_model_definitions"><meta property="og:description" content="In BioCro, a crop model is defined by sets of direct modules, differential
  modules, initial values, and parameters, along with an ordinary differential
  equation (ODE) solver. To run a model, these values, along with a set of
  weather data, are passed to the run_biocro function. For
  convenience, several crop model definitions are included in the BioCro R
  package. A full list can be obtained by typing ??crop_models into the R
  terminal."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BioCro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pdf_vignette_index.html">PDF Vignettes</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ebimodeling/biocro/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Crop model definitions</h1>
    
    <div class="hidden name"><code>crop_model_definitions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>In BioCro, a crop model is defined by sets of direct modules, differential
  modules, initial values, and parameters, along with an ordinary differential
  equation (ODE) solver. To run a model, these values, along with a set of
  weather data, are passed to the <code><a href="run_biocro.html">run_biocro</a></code> function. For
  convenience, several crop model definitions are included in the BioCro R
  package. A full list can be obtained by typing <code>??crop_models</code> into the R
  terminal.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>Each crop model definition is stored as a list with the following named
  elements:</p><ul><li><p><code>direct_modules</code>: A list of direct module names; can be passed to
    <code><a href="run_biocro.html">run_biocro</a></code> as its <code>direct_module_names</code> argument.</p></li>
<li><p><code>differential_modules</code>: A list of differential module names; can
    be passed to <code><a href="run_biocro.html">run_biocro</a></code> as its
    <code>differential_module_names</code> argument.</p></li>
<li><p><code>ode_solver</code>: A list specifying details of a numerical ODE
    solver; can be passed to <code><a href="run_biocro.html">run_biocro</a></code> as its <code>ode_solver</code>
    argument.</p></li>
<li><p><code>initial_values</code>: A list of named quantity values; can be passed
    to <code><a href="run_biocro.html">run_biocro</a></code> as its <code>initial_values</code> argument.</p></li>
<li><p><code>parameters</code>: A list of named quantity values; can be passed to
    <code><a href="run_biocro.html">run_biocro</a></code> as its <code>parameters</code> argument, and also can be
    passed to <code><a href="modules.html">evaluate_module</a></code> and
    <code><a href="modules.html">module_response_curve</a></code> when investigating the behavior of one
    of the crop's modules.</p></li>
</ul><p>These model definitions are not sufficient for running a simulation because
  <code><a href="run_biocro.html">run_biocro</a></code> also requires drivers; for these crop growth models,
  the drivers should be sets of weather data. The <code><a href="soybean.html">soybean</a></code> model is
  intended to be used along with the specialized soybean weather data
  (see <code><a href="cmi_soybean_weather_data.html">cmi_soybean_weather_data</a></code>). The other crops should be used
  with the other weather data (see <code><a href="cmi_weather_data.html">cmi_weather_data</a></code>).</p>
<p>Some quantities in the crop model definitions, such as the values of
  photosynthetic parameters, would remain the same in any location; others, such
  as the latitude or longitude, would need to change when simulating crop growth
  in different locations. Care must be taken to understand each input quantity
  before attempting to run simulations in other places or for other cultivars.</p>
<p>Typically, the modules in a crop model definition are defined as lists with
  some named elements; the names facilitate on-the-fly module swapping via the
  <code><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></code> function. For example, to change the soybean canopy
  photosynthesis module to the <code>BioCro:ten_layer_rue_canopy</code> module, one
  could pass <code>within(soybean$direct_modules, {canopy_photosynthesis =
  "BioCro:ten_layer_rue_canopy"})</code> as the <code>direct_module_names</code> argument
  when calling <code><a href="run_biocro.html">run_biocro</a></code> instead of
  <code>soybean$direct_modules</code>.</p>
<p>Because each crop model definition is stored as a list with named elements,
  it is possible to use the <code><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></code> function to save some typing when
  calling <code><a href="run_biocro.html">run_biocro</a></code> or related functions such as
  <code><a href="partial_application.html">partial_run_biocro</a></code> or
  <code><a href="dynamical_system.html">validate_dynamical_system_inputs</a></code>. For an example, compare
  <code>Example 1</code> and <code>Example 2</code> below. Besides shortening the code,
  using <code>with</code> also makes it easy to modify a command to simulate the
  growth of a different crop; if the two models can use the same drivers, this
  switch can be accomplished with one small change (<code>Example 3</code>).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p></p><ul><li><p><code><a href="run_biocro.html">run_biocro</a></code></p></li>
<li><p><code><a href="modules.html">modules</a></code></p></li>
</ul></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Example 1: Simulating Miscanthus growth using its model definition list</span></span>
<span class="r-in"><span class="va">result1</span> <span class="op">&lt;-</span> <span class="fu"><a href="run_biocro.html">run_biocro</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">initial_values</span>,</span>
<span class="r-in">  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">parameters</span>,</span>
<span class="r-in">  <span class="fu"><a href="get_growing_season_climate.html">get_growing_season_climate</a></span><span class="op">(</span><span class="va">weather</span><span class="op">$</span><span class="st">'2002'</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">direct_modules</span>,</span>
<span class="r-in">  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">differential_modules</span>,</span>
<span class="r-in">  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">ode_solver</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 2: Performing the same simulation as in Example 1, but making use of</span></span>
<span class="r-in"><span class="co"># the `with` command to reduce repeated references to the model definition list</span></span>
<span class="r-in"><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">miscanthus_x_giganteus</span>, <span class="op">{</span><span class="fu"><a href="run_biocro.html">run_biocro</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="va">initial_values</span>,</span>
<span class="r-in">  <span class="va">parameters</span>,</span>
<span class="r-in">  <span class="fu"><a href="get_growing_season_climate.html">get_growing_season_climate</a></span><span class="op">(</span><span class="va">weather</span><span class="op">$</span><span class="st">'2002'</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="va">direct_modules</span>,</span>
<span class="r-in">  <span class="va">differential_modules</span>,</span>
<span class="r-in">  <span class="va">ode_solver</span></span>
<span class="r-in"><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 3: Simulating willow growth using the same weather data as Examples 1</span></span>
<span class="r-in"><span class="co"># and 2, which just requires one change relative to Example 2</span></span>
<span class="r-in"><span class="va">result3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">willow</span>, <span class="op">{</span><span class="fu"><a href="run_biocro.html">run_biocro</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="va">initial_values</span>,</span>
<span class="r-in">  <span class="va">parameters</span>,</span>
<span class="r-in">  <span class="fu"><a href="get_growing_season_climate.html">get_growing_season_climate</a></span><span class="op">(</span><span class="va">weather</span><span class="op">$</span><span class="st">'2002'</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="va">direct_modules</span>,</span>
<span class="r-in">  <span class="va">differential_modules</span>,</span>
<span class="r-in">  <span class="va">ode_solver</span></span>
<span class="r-in"><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by McGrath Justin M., Lochocki Edward B., Rohde Scott, Jaiswal Deepak, Matthews Megan L., Miguez Fernando E., Long Stephen P..</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

