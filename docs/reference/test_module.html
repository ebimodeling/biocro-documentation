<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run BioCro module test cases — test_module • BioCro</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run BioCro module test cases — test_module"><meta property="og:description" content="Modules can be tested using test cases, which are sets of known outputs that
  correspond to particular inputs. The functions here provide ways to create
  test cases and test modules.
test_module runs one test case for a module, returning an error message
  if its output does not match the expected value.
case helps define test cases for module testing by combining the
  required elements into a list with the correct names as required by
  test_module.
cases_from_csv helps define test cases for module testing by creating a
  list of test cases from a csv file."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BioCro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pdf_vignette_index.html">PDF Vignettes</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ebimodeling/biocro/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run BioCro module test cases</h1>
    
    <div class="hidden name"><code>test_module.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Modules can be tested using test cases, which are sets of known outputs that
  correspond to particular inputs. The functions here provide ways to create
  test cases and test modules.</p>
<p><code>test_module</code> runs one test case for a module, returning an error message
  if its output does not match the expected value.</p>
<p><code>case</code> helps define test cases for module testing by combining the
  required elements into a list with the correct names as required by
  <code>test_module</code>.</p>
<p><code>cases_from_csv</code> helps define test cases for module testing by creating a
  list of test cases from a <code>csv</code> file.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">test_module</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">case_to_test</span><span class="op">)</span>

  <span class="fu">case</span><span class="op">(</span><span class="va">inputs</span>, <span class="va">expected_outputs</span>, <span class="va">description</span><span class="op">)</span>

  <span class="fu">cases_from_csv</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">directory</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>module_name</dt>
<dd><p>A string specifying one BioCro module, formatted like
    <code>library_name:local_module_name</code>, where <code>library_name</code> is the name
    of a library that contains a module with local name
    <code>local_module_name</code>; such fully-qualified module names can be formed
    manually or with <code><a href="module_paste.html">module_paste</a></code>.</p></dd>
<dt>case_to_test</dt>
<dd><p>A list with three named elements that describe a module test case:</p><ul><li><p><code>inputs</code>: A list of module inputs, i.e., a list of named
            numeric elements corresponding to the module's input quantities.</p></li>
<li><p><code>expected_outputs</code>: A list of expected module outputs, i.e., a
            list of named numeric elements corresponding to the expected values
            of the module's output quantities.</p></li>
<li><p><code>description</code>: A string describing the test case, e.g.
            <code>"temp below tbase"</code>. The description should be succinct and
            not contain any newline characters.</p></li>
</ul><p></p></dd>
<dt>inputs</dt>
<dd><p>See the corresponding entry in <code>test_case</code> above.</p></dd>
<dt>expected_outputs</dt>
<dd><p>See the corresponding entry in <code>test_case</code> above.</p></dd>
<dt>description</dt>
<dd><p>See the corresponding entry in <code>test_case</code> above.</p></dd>
<dt>directory</dt>
<dd><p>The directory where module test case files are stored, e.g.
    <code>file.path('tests', 'module_test_cases')</code></p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>test_module</code> function forms the basis for the BioCro module testing
  system. (See <code><a href="module_testing.html">module_testing</a></code> for more information.) The functions
  <code>case</code> and <code>cases_from_csv</code> are complementary to <code>test_module</code>
  because they help to pass suitably-formatted test cases to <code>test_module</code>.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <dl><dt>test_module</dt>
<dd><p>If the test passes, an empty string; otherwise, an informative message about
    what went wrong.</p></dd>
<dt>case</dt>
<dd><p>A list with three named elements (<code>inputs</code>, <code>expected_outputs</code>,
    and <code>description</code>) formed from the input arguments.</p></dd>
<dt>cases_from_csv</dt>
<dd><p>A list of test cases created by the <code>case</code> function that are each
    suitable for passing to the <code>test_module</code> function.</p></dd>
</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p></p><ul><li><p><code><a href="modules.html">modules</a></code></p></li>
<li><p><code><a href="module_case_files.html">module_case_files</a></code></p></li>
<li><p><code><a href="module_paste.html">module_paste</a></code></p></li>
<li><p><code><a href="module_testing.html">module_testing</a></code></p></li>
<li><p><code><a href="test_module_library.html">test_module_library</a></code></p></li>
</ul></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Example 1: Defining an individual test case for the 'BioCro' module library's</span></span>
<span class="r-in"><span class="co"># 'thermal_time_linear' module and running the test. This test will pass, so the</span></span>
<span class="r-in"><span class="co"># return value will be an empty string: `character(0)`</span></span>
<span class="r-in"><span class="fu">test_module</span><span class="op">(</span></span>
<span class="r-in">  <span class="st">'BioCro:thermal_time_linear'</span>,</span>
<span class="r-in">  <span class="fu">case</span><span class="op">(</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">101</span>, sowing_time <span class="op">=</span> <span class="fl">100</span>, tbase <span class="op">=</span> <span class="fl">20</span>, temp <span class="op">=</span> <span class="fl">44</span><span class="op">)</span>,</span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>TTc <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span>,</span>
<span class="r-in">    <span class="st">'temp above tbase'</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 2: Defining an individual test case for the 'BioCro' module library's</span></span>
<span class="r-in"><span class="co"># 'thermal_time_linear' module and running the test. This test will fail, so the</span></span>
<span class="r-in"><span class="co"># return value will be a message indicating the failure.</span></span>
<span class="r-in"><span class="fu">test_module</span><span class="op">(</span></span>
<span class="r-in">  <span class="st">'BioCro:thermal_time_linear'</span>,</span>
<span class="r-in">  <span class="fu">case</span><span class="op">(</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">101</span>, sowing_time <span class="op">=</span> <span class="fl">100</span>, tbase <span class="op">=</span> <span class="fl">20</span>, temp <span class="op">=</span> <span class="fl">44</span><span class="op">)</span>,</span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>TTc <span class="op">=</span> <span class="fl">2.0</span><span class="op">)</span>,</span>
<span class="r-in">    <span class="st">'temp above tbase'</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Module `BioCro:thermal_time_linear` test case `temp above tbase`: calculated outputs do not match expected outputs"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 3: Loading a set of test cases from a file and running one of them.</span></span>
<span class="r-in"><span class="co"># Note: here we use the `initialize_csv` function first to ensure that there is</span></span>
<span class="r-in"><span class="co"># a properly defined test file in the current directory.</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">module_name</span> <span class="op">&lt;-</span> <span class="st">'BioCro:thermal_time_linear'</span></span>
<span class="r-in"><span class="fu"><a href="module_case_files.html">initialize_csv</a></span><span class="op">(</span><span class="va">module_name</span>, <span class="st">'.'</span><span class="op">)</span></span>
<span class="r-in"><span class="va">cases</span> <span class="op">&lt;-</span> <span class="fu">cases_from_csv</span><span class="op">(</span><span class="va">module_name</span>, <span class="st">'.'</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">test_module</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">cases</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by McGrath Justin M., Lochocki Edward B., Rohde Scott, Jaiswal Deepak, Matthews Megan L., Miguez Fernando E., Long Stephen P..</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

