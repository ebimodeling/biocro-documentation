<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Modules can be tested using test cases, which are sets of known outputs that
  correspond to particular inputs. The functions here provide ways to create
  test cases and test modules.
test_module runs one test case for a module, returning an error message
  if its output does not match the expected value.
case helps define test cases for module testing by combining the
  required elements into a list with the correct names as required by
  test_module.
cases_from_csv helps define test cases for module testing by creating a
  list of test cases from a csv file."><title>Run BioCro module test cases — test_module • BioCro</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run BioCro module test cases — test_module"><meta property="og:description" content="Modules can be tested using test cases, which are sets of known outputs that
  correspond to particular inputs. The functions here provide ways to create
  test cases and test modules.
test_module runs one test case for a module, returning an error message
  if its output does not match the expected value.
case helps define test cases for module testing by combining the
  required elements into a list with the correct names as required by
  test_module.
cases_from_csv helps define test cases for module testing by creating a
  list of test cases from a csv file."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BioCro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../about_pkgdown_documentation.html">About</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>GENERAL BIOCRO USAGE</h6>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/a_practical_guide_to_biocro.pdf">A Practical Guide to BioCro (PDF)</a>
    <a class="dropdown-item" href="../articles/a_practical_guide_to_biocro.R">    [R code]</a>
    <a class="dropdown-item" href="../articles/quantitative_model_comparison.pdf">Quantitative Comparison Between Two Photosynthesis Models (PDF)</a>
    <a class="dropdown-item" href="../articles/quantitative_model_comparison.R">    [R code]</a>
    <a class="dropdown-item" href="../articles/BioCro-II_Paper--Section-1.1-example.html">BioCro II Paper: Section 1.1 Example (HTML)</a>
    <a class="dropdown-item" href="../articles/dynamical_systems.pdf">BioCro as a Dynamical System</a>
    <a class="dropdown-item" href="../articles/an_introduction_to_biocro.pdf">An Introduction to BioCro for Those Who Want to Add Models (PDF)</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>CROP GROWTH MODELING TOPICS</h6>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/avoiding_pitfalls_fvcb.html">Avoiding Pitfalls When Using the FvCB Model (HTML)</a>
    <a class="dropdown-item" href="../articles/thick_layer_absorption.html">Light Absorption by a Thick Layer (HTML)</a>
    <a class="dropdown-item" href="../articles/ball_berry_model.html">Using the Ball-Berry Model (HTML)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../bookdown/index.html">Developer's Manual</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-c-library">C++ Library</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-c-library">
    <a class="dropdown-item" href="../../doxygen/doxygen_docs_complete/index.html">Complete Doxygen Documentation</a>
    <a class="dropdown-item" href="../../doxygen/doxygen_docs_framework/index.html">Framework Documentation</a>
    <a class="dropdown-item" href="../../doxygen/doxygen_docs_modules/index.html">BioCro Module Documentation</a>
    <a class="dropdown-item" href="../../doxygen/doxygen_docs_modules_public_members_only/index.html">BioCro Module Documentation (public members only)</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ebimodeling/biocro/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Run BioCro module test cases</h1>
      
      <div class="d-none name"><code>test_module.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Modules can be tested using test cases, which are sets of known outputs that
  correspond to particular inputs. The functions here provide ways to create
  test cases and test modules.</p>
<p><code>test_module</code> runs one test case for a module, returning an error message
  if its output does not match the expected value.</p>
<p><code>case</code> helps define test cases for module testing by combining the
  required elements into a list with the correct names as required by
  <code>test_module</code>.</p>
<p><code>cases_from_csv</code> helps define test cases for module testing by creating a
  list of test cases from a <code>csv</code> file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">test_module</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">case_to_test</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">case</span><span class="op">(</span><span class="va">inputs</span>, <span class="va">expected_outputs</span>, <span class="va">description</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">cases_from_csv</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">directory</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>module_name</dt>
<dd><p>A string specifying one BioCro module, formatted like
    <code>library_name:local_module_name</code>, where <code>library_name</code> is the name
    of a library that contains a module with local name
    <code>local_module_name</code>; such fully-qualified module names can be formed
    manually or with <code><a href="module_paste.html">module_paste</a></code>.</p></dd>


  <dt>case_to_test</dt>
<dd><p>A list with three named elements that describe a module test case:</p><ul><li><p><code>inputs</code>: A list of module inputs, i.e., a list of named
            numeric elements corresponding to the module's input quantities.</p></li>
<li><p><code>expected_outputs</code>: A list of expected module outputs, i.e., a
            list of named numeric elements corresponding to the expected values
            of the module's output quantities.</p></li>
<li><p><code>description</code>: A string describing the test case, e.g.
            <code>"temp below tbase"</code>. The description should be succinct and
            not contain any newline characters.</p></li>
</ul><p></p></dd>


  <dt>inputs</dt>
<dd><p>See the corresponding entry in <code>test_case</code> above.</p></dd>


  <dt>expected_outputs</dt>
<dd><p>See the corresponding entry in <code>test_case</code> above.</p></dd>


  <dt>description</dt>
<dd><p>See the corresponding entry in <code>test_case</code> above.</p></dd>


  <dt>directory</dt>
<dd><p>The directory where module test case files are stored, e.g.
    <code>file.path('tests', 'module_test_cases')</code></p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>test_module</code> function forms the basis for the BioCro module testing
  system. (See <code><a href="module_testing.html">module_testing</a></code> for more information.) The functions
  <code>case</code> and <code>cases_from_csv</code> are complementary to <code>test_module</code>
  because they help to pass suitably-formatted test cases to <code>test_module</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <dl><dt>test_module</dt>
<dd><p>If the test passes, an empty string; otherwise, an informative message about
    what went wrong.</p></dd>


  <dt>case</dt>
<dd><p>A list with three named elements (<code>inputs</code>, <code>expected_outputs</code>,
    and <code>description</code>) formed from the input arguments.</p></dd>


  <dt>cases_from_csv</dt>
<dd><p>A list of test cases created by the <code>case</code> function that are each
    suitable for passing to the <code>test_module</code> function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p></p><ul><li><p><code><a href="modules.html">modules</a></code></p></li>
<li><p><code><a href="module_case_files.html">module_case_files</a></code></p></li>
<li><p><code><a href="module_paste.html">module_paste</a></code></p></li>
<li><p><code><a href="module_testing.html">module_testing</a></code></p></li>
<li><p><code><a href="test_module_library.html">test_module_library</a></code></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: Defining an individual test case for the 'BioCro' module library's</span></span></span>
<span class="r-in"><span><span class="co"># 'thermal_time_linear' module and running the test. This test will pass, so the</span></span></span>
<span class="r-in"><span><span class="co"># return value will be an empty string: `character(0)`</span></span></span>
<span class="r-in"><span><span class="fu">test_module</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">'BioCro:thermal_time_linear'</span>,</span></span>
<span class="r-in"><span>  <span class="fu">case</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">101</span>, sowing_time <span class="op">=</span> <span class="fl">100</span>, tbase <span class="op">=</span> <span class="fl">20</span>, temp <span class="op">=</span> <span class="fl">44</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>TTc <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">'temp above tbase'</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Defining an individual test case for the 'BioCro' module library's</span></span></span>
<span class="r-in"><span><span class="co"># 'thermal_time_linear' module and running the test. This test will fail, so the</span></span></span>
<span class="r-in"><span><span class="co"># return value will be a message indicating the failure.</span></span></span>
<span class="r-in"><span><span class="fu">test_module</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">'BioCro:thermal_time_linear'</span>,</span></span>
<span class="r-in"><span>  <span class="fu">case</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">101</span>, sowing_time <span class="op">=</span> <span class="fl">100</span>, tbase <span class="op">=</span> <span class="fl">20</span>, temp <span class="op">=</span> <span class="fl">44</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>TTc <span class="op">=</span> <span class="fl">2.0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">'temp above tbase'</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Module `BioCro:thermal_time_linear` test case `temp above tbase`: calculated outputs do not match expected outputs"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Loading a set of test cases from a file and running one of them.</span></span></span>
<span class="r-in"><span><span class="co"># Note: here we use the `initialize_csv` function first to ensure that there is</span></span></span>
<span class="r-in"><span><span class="co"># a properly defined test file in the current directory.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">module_name</span> <span class="op">&lt;-</span> <span class="st">'BioCro:thermal_time_linear'</span></span></span>
<span class="r-in"><span><span class="fu"><a href="module_case_files.html">initialize_csv</a></span><span class="op">(</span><span class="va">module_name</span>, <span class="st">'.'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cases</span> <span class="op">&lt;-</span> <span class="fu">cases_from_csv</span><span class="op">(</span><span class="va">module_name</span>, <span class="st">'.'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">test_module</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">cases</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Justin M. McGrath, Edward B. Lochocki, Scott Rohde, Deepak Jaiswal, Megan L. Matthews, Fernando E. Miguez, Stephen P. Long.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

